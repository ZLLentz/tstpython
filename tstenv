#!/bin/bash
# Source this to load the full environment that hutch python uses

# edit this line only
export CONDA_ENVNAME="pcds-5.9.1"

export HUTCH="tst"
export NFS_BASE="/cds/group/pcds/pyps/conda/py39"


echo "Loading NFS python env ${CONDA_ENVNAME}"
# shellcheck disable=SC1091
source "${NFS_BASE}/etc/profile.d/conda.sh"
conda activate "${CONDA_ENVNAME}"

unset PYTHONPATH
unset LD_LIBRARY_PATH

HERE="$(dirname "$(readlink -f "${BASH_SOURCE[0]}")")"

if [ -f "${HERE}/dev/hutch-python/bin/hutch-python" ]; then
    export PATH="${HERE}/dev/hutch-python/bin:${PATH}"
fi

export PYTHONPATH="${HERE}:${HERE}/dev/devpath"
export CONDA_PROMPT_MODIFIER="(${HUTCH}-${CONDA_ENVNAME})"
